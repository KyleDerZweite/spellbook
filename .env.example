# =============================================================================
# Spellbook Environment Configuration
# =============================================================================
# Copy this file to .env and update the values for your environment

# =============================================================================
# Zitadel Authentication (Centralized Auth)
# =============================================================================

# Zitadel domain for backend token validation
ZITADEL_DOMAIN=auth.kylehub.dev

# Frontend OIDC configuration
VITE_ZITADEL_AUTHORITY=https://auth.kylehub.dev
VITE_ZITADEL_CLIENT_ID=350854248520548356
VITE_ZITADEL_REDIRECT_URI=http://localhost:5173/callback
VITE_ZITADEL_POST_LOGOUT_URI=http://localhost:5173

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL Database URL
DATABASE_URL=postgresql+asyncpg://user:password@postgres:5432/spellbookdb

# Database credentials (used by Docker Compose)
POSTGRES_USER=user
POSTGRES_PASSWORD=password
POSTGRES_DB=spellbookdb

# =============================================================================
# Redis Configuration
# =============================================================================

REDIS_URL=redis://redis:6379

# =============================================================================
# Application Settings
# =============================================================================

# Environment mode
DEBUG=false

# Registration mode: OPEN, INVITE_ONLY, ADMIN_APPROVAL
REGISTRATION_MODE=OPEN

# Frontend URL (for CORS)
NEXT_PUBLIC_API_URL=http://localhost:8000

# =============================================================================
# JWT Token Settings
# =============================================================================

ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# External APIs
# =============================================================================

# Scryfall API settings
SCRYFALL_API_BASE=https://api.scryfall.com
SCRYFALL_RATE_LIMIT=10

# =============================================================================
# File Storage
# =============================================================================

UPLOAD_PATH=/data/uploads
MAX_FILE_SIZE=10485760

# =============================================================================
# Pagination
# =============================================================================

DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# =============================================================================
# Initial Admin User (for database initialization)
# =============================================================================

ADMIN_EMAIL=admin@spellbook.local
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123!

# =============================================================================
# Docker Compose Settings
# =============================================================================

# Exposed ports
FRONTEND_PORT=3000
BACKEND_PORT=8000
POSTGRES_PORT=5432
REDIS_PORT=6379

# Data volumes
POSTGRES_DATA_PATH=./data/postgres
REDIS_DATA_PATH=./data/redis
UPLOADS_DATA_PATH=./data/uploads